<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Hockey Roster Queries</title>
    <link rel="stylesheet" type="text/css" href="../static/style.css">

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['timeline']});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var container = document.getElementById('timeline');
        var chart = new google.visualization.Timeline(container);
        var dataTable = new google.visualization.DataTable();
        var player_data = {{data|tojson}}

        dataTable.addColumn({ type: 'string', id: 'Name' });
        dataTable.addColumn({ type: 'string', id: 'Summary' });
        dataTable.addColumn({ type: 'date', id: 'Start' });
        dataTable.addColumn({ type: 'date', id: 'End' });
        var row_count = 1;
        console.log(player_data['teammates'])
        console.log(player_data['teammates'][0])
        for (var player_count in player_data['teammates']) {
            console.log(player_data['teammates'][player_count])
            dataTable.addRow([ player_data['teammates'][player_count][0], player_data['teammates'][player_count][1], new Date(player_data['teammates'][player_count][2], player_data['teammates'][player_count][3], player_data['teammates'][player_count][4]),  new Date(player_data['teammates'][player_count][5], player_data['teammates'][player_count][6], player_data['teammates'][player_count][7]) ]);
        }
        var options = {
            timeline: { barLabelStyle: {fontSize: 10}}
        };
        chart.draw(dataTable,options);
      }
    </script>
  </head>
  <body>


    <h1>
      Teammate query
    </h1>
    

    <div id="timeline" style="height: 1200px;"></div>
    </body>
</html>
